<div class="activity-timeline">
  <app-gradient-card variant="warning" padding="0" borderRadius="1.25rem">
    <div class="timeline-header">
      <div class="header-content">
        <h3 class="timeline-title">Activity Timeline</h3>
        <p class="timeline-subtitle">Recent activities and events across the system</p>
      </div>
      
      <div class="header-actions">
        <button class="export-btn" (click)="exportTimeline()">
          <i class="bi bi-download"></i>
          Export
        </button>
        <button class="view-all-btn" (click)="viewFullTimeline()">
          View All
          <i class="bi bi-arrow-right"></i>
        </button>
      </div>
    </div>

    <!-- Timeline Stats -->
<div class="timeline-stats">
  <div class="stat-item" *ngFor="let stat of getEventStats() | keyvalue">
    
    <div class="stat-icon">
      <i class="bi" [class]="getStatIcon(asStatKey(stat.key))"></i>
    </div>

    <div class="stat-info">
      <div class="stat-value">{{ stat.value }}</div>
      <div class="stat-label">{{ getStatLabel(asStatKey(stat.key)) }}</div>
    </div>

  </div>
</div>




    <!-- Filters -->
    <div class="timeline-filters">
      <div class="filter-group">
        <select [value]="filterType" (change)="onFilterTypeChange($event)" class="filter-select">
          <option value="all">All Events</option>
          <option value="task">Tasks</option>
          <option value="user">Users</option>
          <option value="system">System</option>
          <option value="meeting">Meetings</option>
          <option value="milestone">Milestones</option>
        </select>
        
        <select [value]="dateRange" (change)="onDateRangeChange($event)" class="filter-select">
          <option value="today">Today</option>
          <option value="week">This Week</option>
          <option value="month">This Month</option>
          <option value="all">All Time</option>
        </select>

        <button class="add-event-btn" (click)="addCustomEvent()">
          <i class="bi bi-plus-lg"></i>
          Add Event
        </button>
      </div>
    </div>

    <!-- Timeline -->
    <div class="timeline-container">
      <div class="timeline">
        <div 
          *ngFor="let event of filteredEvents; let i = index" 
          class="timeline-event"
          [class]="'event-' + event.type">
          
          <div class="event-marker" [class]="'marker-' + event.color">
            <i class="bi {{ event.icon }}"></i>
          </div>

          <div class="event-content">
            <div class="event-header">
              <h4 class="event-title">{{ event.title }}</h4>
              <div class="event-meta">
                <span class="event-time">{{ getFormattedTime(event.timestamp) }}</span>
                <span class="event-ago">{{ getTimeAgo(event.timestamp) }}</span>
              </div>
            </div>
            
            <p class="event-description">{{ event.description }}</p>
            
            <div class="event-details">
              <div class="event-user" *ngIf="event.user">
                <i class="bi bi-person"></i>
                {{ event.user }}
              </div>
              
              <div class="event-status" *ngIf="event.status">
                <span class="status-badge" [class]="getStatusClass(event.status)">
                  <i class="bi" [class]="getStatusIcon(event.status)"></i>
                  {{ event.status | titlecase }}
                </span>
              </div>
            </div>

            <div class="event-tags" *ngIf="event.tags && event.tags.length > 0">
              <span *ngFor="let tag of event.tags" class="tag">{{ tag }}</span>
            </div>
          </div>

          <div class="event-connector" *ngIf="i < filteredEvents.length - 1"></div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredEvents.length === 0" class="empty-state">
      <i class="bi bi-activity"></i>
      <h4>No activities found</h4>
      <p>Try adjusting your filters or time range</p>
    </div>

    <!-- Load More -->
    <div class="timeline-footer" *ngIf="filteredEvents.length > 0">
      <button class="load-more-btn">
        <i class="bi bi-arrow-clockwise"></i>
        Load More Activities
      </button>
    </div>
  </app-gradient-card>
</div>