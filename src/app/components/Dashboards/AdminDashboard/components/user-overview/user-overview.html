<div class="user-overview">
  <app-gradient-card variant="success" padding="0" borderRadius="1.25rem">
    <div class="user-header">
      <div class="header-content">
        <h3 class="user-title">User Overview</h3>
        <p class="user-subtitle">Manage and monitor team members</p>
      </div>
      
      <div class="header-actions">
        <button class="export-btn" (click)="exportUserList()">
          <i class="bi bi-download"></i>
          Export
        </button>
        <button class="view-all-btn" (click)="viewAllUsers()">
          View All
          <i class="bi bi-arrow-right"></i>
        </button>
      </div>
    </div>

    <!-- User Stats -->
    <div class="user-stats">
      <div class="stat-card" *ngFor="let stat of getStats() | keyvalue; let i = index">
        <div class="stat-icon" [class]="'icon-' + (i + 1)">
<i class="bi" [class]="getStatIcon(asStatKey(stat.key))"></i>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stat.value }}</div>
          <div class="stat-label">{{ getStatLabel(asStatKey(stat.key)) }}
</div>
        </div>
      </div>
    </div>

    <!-- Filters -->
    <div class="user-filters">
      <div class="search-box">
        <i class="bi bi-search"></i>
        <input 
          type="text" 
          placeholder="Search users..." 
          [value]="searchTerm"
          (input)="onSearchChange($event)"
          class="search-input">
      </div>
      
      <div class="filter-group">
        <select [value]="statusFilter" (change)="onStatusFilterChange($event)" class="filter-select">
          <option value="all">All Status</option>
          <option value="active">Active</option>
          <option value="inactive">Inactive</option>
          <option value="pending">Pending</option>
        </select>
        
        <select [value]="departmentFilter" (change)="onDepartmentFilterChange($event)" class="filter-select">
          <option value="all">All Departments</option>
          <option *ngFor="let dept of getDepartments()" [value]="dept">{{ dept }}</option>
        </select>
      </div>
    </div>

    <!-- Users Table -->
    <div class="users-table">
      <div class="table-header">
        <div class="table-row header-row">
          <div class="table-cell">User</div>
          <div class="table-cell">Role</div>
          <div class="table-cell">Department</div>
          <div class="table-cell">Status</div>
          <div class="table-cell">Last Active</div>
          <div class="table-cell">Tasks</div>
          <div class="table-cell">Actions</div>
        </div>
      </div>
      
      <div class="table-body">
        <div *ngFor="let user of filteredUsers" class="table-row user-row">
          <div class="table-cell user-info">
            <div class="user-avatar">
              {{ user.avatar }}
            </div>
            <div class="user-details">
              <div class="user-name">{{ user.name }}</div>
              <div class="user-email">{{ user.email }}</div>
            </div>
          </div>
          
          <div class="table-cell">
            <span class="user-role">{{ user.role }}</span>
          </div>
          
          <div class="table-cell">
            <span class="department-badge">{{ user.department }}</span>
          </div>
          
          <div class="table-cell">
            <span class="status-badge" [class]="getStatusClass(user.status)">
              <i class="bi" [class]="getStatusIcon(user.status)"></i>
              {{ user.status | titlecase }}
            </span>
          </div>
          
          <div class="table-cell">
            <span class="last-active">{{ getTimeAgo(user.lastActive) }}</span>
          </div>
          
          <div class="table-cell">
            <div class="tasks-count">
              <i class="bi bi-check-circle"></i>
              {{ user.tasksCompleted }}
            </div>
          </div>
          
          <div class="table-cell">
            <div class="action-buttons">
              <button class="action-btn view-btn" title="View Profile">
                <i class="bi bi-eye"></i>
              </button>
              <button class="action-btn edit-btn" title="Edit User">
                <i class="bi bi-pencil"></i>
              </button>
              <button class="action-btn message-btn" title="Send Message">
                <i class="bi bi-chat"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredUsers.length === 0" class="empty-state">
      <i class="bi bi-people"></i>
      <h4>No users found</h4>
      <p>Try adjusting your search or filters</p>
    </div>

    <!-- Load More -->
    <div class="table-footer" *ngIf="filteredUsers.length > 0">
      <button class="load-more-btn">
        <i class="bi bi-arrow-down"></i>
        Load More Users
      </button>
    </div>
  </app-gradient-card>
</div>