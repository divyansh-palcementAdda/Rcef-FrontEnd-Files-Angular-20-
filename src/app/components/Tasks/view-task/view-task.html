<!-- <br><br>
<div class="container py-5">

  <div *ngIf="errorMessage" class="alert alert-danger text-center shadow-sm rounded-pill py-3 fw-semibold">
    {{ errorMessage }}
  </div>

  <div *ngIf="isLoading" class="text-center my-5">
    <div class="spinner-border text-success"></div>
    <p class="mt-3 fw-medium text-muted">Loading task details...</p>
  </div>

  <div *ngIf="task && !isLoading" class="task-card shadow-lg border-0 rounded-4 overflow-hidden animate__animated animate__fadeInUp">

    <div class="task-header text-white text-center py-4">
      <h3 class="fw-bold mb-1">{{ task.title }}</h3>
      <p class="mb-0 text-light fs-6">{{ task.status }}</p>
    </div>

    <div class="card-body px-4 py-4">
      <div class="row gy-3">
        <div class="col-md-6">
          <p><i class="bi bi-person-circle me-2 text-primary"></i><strong>Created By:</strong> {{ task.createdByName || 'N/A' }}</p>
          <p><i class="bi bi-calendar-check me-2 text-primary"></i><strong>Start Date:</strong> {{ task.startDate | date:'mediumDate' }}</p>
          <p><i class="bi bi-calendar-event me-2 text-primary"></i><strong>Due Date:</strong> {{ task.dueDate | date:'mediumDate' }}</p>
        </div>
        <div class="col-md-6">
          <p><i class="bi bi-people me-2 text-primary"></i><strong>Assigned To:</strong> {{ assignedUsers }}</p>
          <p><i class="bi bi-diagram-3 me-2 text-primary"></i><strong>Departments:</strong> {{ departments }}</p>
          <p>
            <i class="bi bi-shield-lock me-2 text-primary"></i><strong>Requires Approval:</strong>
            <span [ngClass]="task.requiresApproval ? 'text-danger fw-semibold' : 'text-success fw-semibold'">
              {{ task.requiresApproval ? 'Yes' : 'No' }}
            </span>
          </p>
        </div>
      </div>

      <hr>

      <p><strong><i class="bi bi-file-text me-2 text-primary"></i>Description:</strong></p>
      <p class="text-muted">{{ task.description || 'No description available.' }}</p>

      <div *ngIf="task.proofs?.length" class="mt-4">
        <h5 class="fw-bold mb-3"><i class="bi bi-paperclip me-2 text-primary"></i>Task Proofs</h5>
        <ul class="list-group">
          <li *ngFor="let proof of task.proofs" class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ proof.fileName }}</span>
            <a [href]="proof.fileUrl" target="_blank" class="btn btn-sm btn-outline-success">View</a>
          </li>
        </ul>
      </div>

      <div *ngIf="task.requests?.length" class="mt-5">
        <h5 class="fw-bold mb-3"><i class="bi bi-journal-text me-2 text-primary"></i>Task Requests</h5>
        <table class="table table-hover align-middle">
          <thead class="table_head">
            <tr>
              <th>ID</th>
              <th>Type</th>
              <th>Date</th>
              <th>Status</th>
              <th>Remarks</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let req of task.requests">
              <td>{{ req.requestId }}</td>
              <td>{{ req.requestType }}</td>
              <td>{{ req.requestDate | date:'mediumDate' }}</td>
              <td>
                <span class="badge rounded-pill px-3 py-2"
                  [ngClass]="{
                    'bg-warning text-dark': req.status === 'PENDING',
                    'bg-success': req.status === 'APPROVED',
                    'bg-danger': req.status === 'REJECTED'
                  }">{{ req.status }}</span>
              </td>
              <td>{{ req.remarks || '-' }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="text-center mt-5 d-flex justify-content-center flex-wrap gap-3">
        <button class="btn btn-outline-primary px-4 py-2" (click)="editTask()">
          <i class="bi bi-pencil-square me-2"></i>Edit Task
        </button>
        <button class="btn btn-outline-secondary px-4 py-2" (click)="goBack()">
          <i class="bi bi-arrow-left-circle me-2"></i>Back to Tasks
        </button>
      </div>
    </div>
  </div>
</div> -->
